{"ast":null,"code":"import _defineProperty from \"D:\\\\GitRepos\\\\us-dig-clone\\\\cde-project-manager-app\\\\project-mgmt-application-ui\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"D:\\\\GitRepos\\\\us-dig-clone\\\\cde-project-manager-app\\\\project-mgmt-application-ui\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\GitRepos\\\\us-dig-clone\\\\cde-project-manager-app\\\\project-mgmt-application-ui\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"D:\\\\GitRepos\\\\us-dig-clone\\\\cde-project-manager-app\\\\project-mgmt-application-ui\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:\\\\GitRepos\\\\us-dig-clone\\\\cde-project-manager-app\\\\project-mgmt-application-ui\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"D:\\\\GitRepos\\\\us-dig-clone\\\\cde-project-manager-app\\\\project-mgmt-application-ui\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"D:\\\\GitRepos\\\\us-dig-clone\\\\cde-project-manager-app\\\\project-mgmt-application-ui\\\\src\\\\assets\\\\components\\\\user\\\\AddUser.jsx\";\nimport React, { Component } from 'react';\nimport './User.css';\nimport { Button, Form, FormGroup, Label, Input, Col, Alert } from 'reactstrap';\n\nvar AddUser =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(AddUser, _Component);\n\n  function AddUser(props) {\n    var _this;\n\n    _classCallCheck(this, AddUser);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(AddUser).call(this, props));\n    var currentUser = props.currentUser || {};\n    var labels = {\n      'addUser': 'Add User',\n      'editUser': 'Update User'\n    };\n    _this.state = {\n      id: currentUser.id || null,\n      firstName: currentUser.firstName || '',\n      lastName: currentUser.lastName || '',\n      employeeID: currentUser.employeeID || '',\n      addUserResponse: props.addUserResponse || {},\n      userAction: props.userAction || 'addUser',\n      labels: labels\n    };\n    return _this;\n  }\n\n  _createClass(AddUser, [{\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      console.log(\"Next set of props\");\n      console.log(nextProps);\n\n      if (nextProps.addUserResponse && nextProps.addUserResponse.status === \"success\") {\n        // Show success message?\n        this.reset();\n      }\n\n      if (nextProps.addUserResponse && nextProps.addUserResponse.status === \"failure\") {// Show failure message\n      }\n\n      var currentUser = nextProps.currentUser || {};\n      this.setState({\n        id: currentUser.id || null,\n        firstName: currentUser.firstName || '',\n        lastName: currentUser.lastName || '',\n        employeeID: currentUser.employeeID || '',\n        userAction: nextProps.userAction || 'addUser'\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(\"div\", {\n        className: \"form-section\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      }, React.createElement(Form, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      }, this.state.formError && React.createElement(FormGroup, {\n        row: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }, React.createElement(Col, {\n        sm: 12,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }, React.createElement(Alert, {\n        color: \"danger\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }, \"All Fields are required!\"))), React.createElement(FormGroup, {\n        row: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }, React.createElement(Label, {\n        for: \"firstName\",\n        sm: 2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }, \"First Name:\"), React.createElement(Col, {\n        sm: 10,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, React.createElement(Input, {\n        type: \"text\",\n        value: this.state.firstName,\n        invalid: this.state.firstNameInvalid,\n        onChange: function onChange(e) {\n          return _this2.handleChange(\"firstName\", e);\n        },\n        onFocus: function onFocus(e) {\n          return _this2.focus(\"firstName\", e);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }))), React.createElement(FormGroup, {\n        row: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, React.createElement(Label, {\n        for: \"lastName\",\n        sm: 2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, \"Last Name:\"), React.createElement(Col, {\n        sm: 10,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, React.createElement(Input, {\n        type: \"text\",\n        value: this.state.lastName,\n        invalid: this.state.lastNameInvalid,\n        onChange: function onChange(e) {\n          return _this2.handleChange(\"lastName\", e);\n        },\n        onFocus: function onFocus(e) {\n          return _this2.focus(\"lastName\", e);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }))), React.createElement(FormGroup, {\n        row: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, React.createElement(Label, {\n        for: \"employeeID\",\n        sm: 2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, \"Employee ID:\"), React.createElement(Col, {\n        sm: 6,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, React.createElement(Input, {\n        type: \"text\",\n        value: this.state.employeeID,\n        invalid: this.state.employeeIDInvalid,\n        onChange: function onChange(e) {\n          return _this2.handleChange(\"employeeID\", e);\n        },\n        onFocus: function onFocus(e) {\n          return _this2.focus(\"employeeID\", e);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }))), React.createElement(FormGroup, {\n        check: true,\n        row: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, React.createElement(Col, {\n        sm: {\n          size: 10,\n          offset: 6\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, React.createElement(Button, {\n        onClick: function onClick(e) {\n          return _this2.addOrEditUser(e, _this2.state.userAction);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, this.state.labels[this.state.userAction]), React.createElement(Button, {\n        className: \"secondary\",\n        onClick: function onClick(e) {\n          return _this2.reset(e);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, \"Reset\")))));\n    }\n  }, {\n    key: \"focus\",\n    value: function focus(name, e) {\n      console.log(name);\n      var prop = name + \"Invalid\";\n      this.setState(_defineProperty({}, prop, false));\n    }\n  }, {\n    key: \"addOrEditUser\",\n    value: function addOrEditUser(e, action) {\n      // validate user\n      if (this.validateForm()) {\n        return;\n      }\n\n      var user = {\n        id: this.state.id,\n        firstName: this.state.firstName,\n        lastName: this.state.lastName,\n        employeeID: this.state.employeeID\n      };\n      console.log(user);\n      this.props.addOrEditUser(action, user);\n    }\n  }, {\n    key: \"validateForm\",\n    value: function validateForm() {\n      var firstName = this.state.firstName;\n      var lastName = this.state.lastName;\n      var employeeID = this.state.employeeID;\n      var formError = false;\n\n      if (!firstName || !lastName || !employeeID) {\n        formError = true;\n      }\n\n      this.setState({\n        formError: formError,\n        firstNameInvalid: firstName ? false : true,\n        lastNameInvalid: lastName ? false : true,\n        employeeIDInvalid: employeeID ? false : true\n      });\n      return formError;\n    }\n  }, {\n    key: \"reset\",\n    value: function reset(e) {\n      this.setState({\n        formError: false,\n        id: null,\n        firstName: '',\n        lastName: '',\n        employeeID: '',\n        firstNameInvalid: false,\n        lastNameInvalid: false,\n        employeeIDInvalid: false\n      });\n    }\n  }, {\n    key: \"handleChange\",\n    value: function handleChange(name, e) {\n      var value = e.target.value;\n      this.setState(_defineProperty({}, name, value));\n    }\n  }]);\n\n  return AddUser;\n}(Component);\n\nexport default AddUser;","map":{"version":3,"sources":["D:\\GitRepos\\us-dig-clone\\cde-project-manager-app\\project-mgmt-application-ui\\src\\assets\\components\\user\\AddUser.jsx"],"names":["React","Component","Button","Form","FormGroup","Label","Input","Col","Alert","AddUser","props","currentUser","labels","state","id","firstName","lastName","employeeID","addUserResponse","userAction","nextProps","console","log","status","reset","setState","formError","firstNameInvalid","e","handleChange","focus","lastNameInvalid","employeeIDInvalid","size","offset","addOrEditUser","name","prop","action","validateForm","user","value","target"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAO,YAAP;AACA,SAASC,MAAT,EAAiBC,IAAjB,EAAuBC,SAAvB,EAAkCC,KAAlC,EAAyCC,KAAzC,EAAgDC,GAAhD,EAAqDC,KAArD,QAAkE,YAAlE;;IAEMC,O;;;;;AAEF,mBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACf,iFAAMA,KAAN;AACA,QAAIC,WAAW,GAAGD,KAAK,CAACC,WAAN,IAAqB,EAAvC;AACA,QAAMC,MAAM,GAAG;AACX,iBAAW,UADA;AAEX,kBAAY;AAFD,KAAf;AAIA,UAAKC,KAAL,GAAa;AACTC,MAAAA,EAAE,EAAEH,WAAW,CAACG,EAAZ,IAAkB,IADb;AAETC,MAAAA,SAAS,EAAEJ,WAAW,CAACI,SAAZ,IAAyB,EAF3B;AAGTC,MAAAA,QAAQ,EAAEL,WAAW,CAACK,QAAZ,IAAwB,EAHzB;AAITC,MAAAA,UAAU,EAAEN,WAAW,CAACM,UAAZ,IAA0B,EAJ7B;AAKTC,MAAAA,eAAe,EAAER,KAAK,CAACQ,eAAN,IAAyB,EALjC;AAMTC,MAAAA,UAAU,EAAET,KAAK,CAACS,UAAN,IAAoB,SANvB;AAOTP,MAAAA,MAAM,EAAEA;AAPC,KAAb;AAPe;AAgBlB;;;;8CAEyBQ,S,EAAW;AACjCC,MAAAA,OAAO,CAACC,GAAR,CAAY,mBAAZ;AACAD,MAAAA,OAAO,CAACC,GAAR,CAAYF,SAAZ;;AACA,UAAIA,SAAS,CAACF,eAAV,IAA6BE,SAAS,CAACF,eAAV,CAA0BK,MAA1B,KAAqC,SAAtE,EAAiF;AAC7E;AACA,aAAKC,KAAL;AACH;;AAED,UAAIJ,SAAS,CAACF,eAAV,IAA6BE,SAAS,CAACF,eAAV,CAA0BK,MAA1B,KAAqC,SAAtE,EAAiF,CAC7E;AACH;;AACD,UAAIZ,WAAW,GAAGS,SAAS,CAACT,WAAV,IAAyB,EAA3C;AACA,WAAKc,QAAL,CAAc;AACVX,QAAAA,EAAE,EAAEH,WAAW,CAACG,EAAZ,IAAkB,IADZ;AAEVC,QAAAA,SAAS,EAAEJ,WAAW,CAACI,SAAZ,IAAyB,EAF1B;AAGVC,QAAAA,QAAQ,EAAEL,WAAW,CAACK,QAAZ,IAAwB,EAHxB;AAIVC,QAAAA,UAAU,EAAEN,WAAW,CAACM,UAAZ,IAA0B,EAJ5B;AAKVE,QAAAA,UAAU,EAAEC,SAAS,CAACD,UAAV,IAAwB;AAL1B,OAAd;AAOH;;;6BAEQ;AAAA;;AACL,aACI;AAAK,QAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACK,KAAKN,KAAL,CAAWa,SAAX,IACG,oBAAC,SAAD;AAAW,QAAA,GAAG,MAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,GAAD;AAAK,QAAA,EAAE,EAAE,EAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAa,oBAAC,KAAD;AAAO,QAAA,KAAK,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oCAAb,CADJ,CAFR,EAMI,oBAAC,SAAD;AAAW,QAAA,GAAG,MAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,KAAD;AAAO,QAAA,GAAG,EAAC,WAAX;AAAuB,QAAA,EAAE,EAAE,CAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBADJ,EAEI,oBAAC,GAAD;AAAK,QAAA,EAAE,EAAE,EAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,KAAD;AAAO,QAAA,IAAI,EAAC,MAAZ;AAAmB,QAAA,KAAK,EAAE,KAAKb,KAAL,CAAWE,SAArC;AAAgD,QAAA,OAAO,EAAE,KAAKF,KAAL,CAAWc,gBAApE;AAAsF,QAAA,QAAQ,EAAE,kBAAAC,CAAC;AAAA,iBAAI,MAAI,CAACC,YAAL,CAAkB,WAAlB,EAA+BD,CAA/B,CAAJ;AAAA,SAAjG;AAAwI,QAAA,OAAO,EAAE,iBAAAA,CAAC;AAAA,iBAAI,MAAI,CAACE,KAAL,CAAW,WAAX,EAAwBF,CAAxB,CAAJ;AAAA,SAAlJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,CAFJ,CANJ,EAYI,oBAAC,SAAD;AAAW,QAAA,GAAG,MAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,KAAD;AAAO,QAAA,GAAG,EAAC,UAAX;AAAsB,QAAA,EAAE,EAAE,CAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADJ,EAEI,oBAAC,GAAD;AAAK,QAAA,EAAE,EAAE,EAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,KAAD;AAAO,QAAA,IAAI,EAAC,MAAZ;AAAmB,QAAA,KAAK,EAAE,KAAKf,KAAL,CAAWG,QAArC;AAA+C,QAAA,OAAO,EAAE,KAAKH,KAAL,CAAWkB,eAAnE;AAAoF,QAAA,QAAQ,EAAE,kBAAAH,CAAC;AAAA,iBAAI,MAAI,CAACC,YAAL,CAAkB,UAAlB,EAA8BD,CAA9B,CAAJ;AAAA,SAA/F;AAAqI,QAAA,OAAO,EAAE,iBAAAA,CAAC;AAAA,iBAAI,MAAI,CAACE,KAAL,CAAW,UAAX,EAAuBF,CAAvB,CAAJ;AAAA,SAA/I;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,CAFJ,CAZJ,EAkBI,oBAAC,SAAD;AAAW,QAAA,GAAG,MAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,KAAD;AAAO,QAAA,GAAG,EAAC,YAAX;AAAwB,QAAA,EAAE,EAAE,CAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADJ,EAEI,oBAAC,GAAD;AAAK,QAAA,EAAE,EAAE,CAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,KAAD;AAAO,QAAA,IAAI,EAAC,MAAZ;AAAmB,QAAA,KAAK,EAAE,KAAKf,KAAL,CAAWI,UAArC;AAAiD,QAAA,OAAO,EAAE,KAAKJ,KAAL,CAAWmB,iBAArE;AAAyF,QAAA,QAAQ,EAAE,kBAAAJ,CAAC;AAAA,iBAAI,MAAI,CAACC,YAAL,CAAkB,YAAlB,EAAgCD,CAAhC,CAAJ;AAAA,SAApG;AAA4I,QAAA,OAAO,EAAE,iBAAAA,CAAC;AAAA,iBAAI,MAAI,CAACE,KAAL,CAAW,YAAX,EAAyBF,CAAzB,CAAJ;AAAA,SAAtJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,CAFJ,CAlBJ,EAyBI,oBAAC,SAAD;AAAW,QAAA,KAAK,MAAhB;AAAiB,QAAA,GAAG,MAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,GAAD;AAAK,QAAA,EAAE,EAAE;AAAEK,UAAAA,IAAI,EAAE,EAAR;AAAYC,UAAAA,MAAM,EAAE;AAApB,SAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,MAAD;AAAQ,QAAA,OAAO,EAAE,iBAAAN,CAAC;AAAA,iBAAI,MAAI,CAACO,aAAL,CAAmBP,CAAnB,EAAsB,MAAI,CAACf,KAAL,CAAWM,UAAjC,CAAJ;AAAA,SAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAqE,KAAKN,KAAL,CAAWD,MAAX,CAAkB,KAAKC,KAAL,CAAWM,UAA7B,CAArE,CADJ,EAEI,oBAAC,MAAD;AAAQ,QAAA,SAAS,EAAC,WAAlB;AAA8B,QAAA,OAAO,EAAE,iBAAAS,CAAC;AAAA,iBAAI,MAAI,CAACJ,KAAL,CAAWI,CAAX,CAAJ;AAAA,SAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAFJ,CADJ,CAzBJ,CADJ,CADJ;AAoCH;;;0BAEKQ,I,EAAMR,C,EAAE;AACVP,MAAAA,OAAO,CAACC,GAAR,CAAYc,IAAZ;AACA,UAAMC,IAAI,GAAGD,IAAI,GAAC,SAAlB;AACA,WAAKX,QAAL,qBACKY,IADL,EACY,KADZ;AAGH;;;kCAEaT,C,EAAGU,M,EAAQ;AACrB;AACA,UAAI,KAAKC,YAAL,EAAJ,EAAyB;AACrB;AACH;;AACD,UAAMC,IAAI,GAAG;AACT1B,QAAAA,EAAE,EAAE,KAAKD,KAAL,CAAWC,EADN;AAETC,QAAAA,SAAS,EAAE,KAAKF,KAAL,CAAWE,SAFb;AAGTC,QAAAA,QAAQ,EAAE,KAAKH,KAAL,CAAWG,QAHZ;AAITC,QAAAA,UAAU,EAAE,KAAKJ,KAAL,CAAWI;AAJd,OAAb;AAMAI,MAAAA,OAAO,CAACC,GAAR,CAAYkB,IAAZ;AACA,WAAK9B,KAAL,CAAWyB,aAAX,CAAyBG,MAAzB,EAAiCE,IAAjC;AACH;;;mCAEc;AACX,UAAMzB,SAAS,GAAG,KAAKF,KAAL,CAAWE,SAA7B;AACA,UAAMC,QAAQ,GAAG,KAAKH,KAAL,CAAWG,QAA5B;AACA,UAAMC,UAAU,GAAG,KAAKJ,KAAL,CAAWI,UAA9B;AACA,UAAIS,SAAS,GAAG,KAAhB;;AACA,UAAI,CAACX,SAAD,IAAc,CAACC,QAAf,IAA2B,CAACC,UAAhC,EAA4C;AACxCS,QAAAA,SAAS,GAAG,IAAZ;AACH;;AACD,WAAKD,QAAL,CAAc;AACVC,QAAAA,SAAS,EAAEA,SADD;AAEVC,QAAAA,gBAAgB,EAAEZ,SAAS,GAAG,KAAH,GAAW,IAF5B;AAGVgB,QAAAA,eAAe,EAAEf,QAAQ,GAAG,KAAH,GAAW,IAH1B;AAIVgB,QAAAA,iBAAiB,EAAEf,UAAU,GAAG,KAAH,GAAW;AAJ9B,OAAd;AAMA,aAAOS,SAAP;AACH;;;0BAEKE,C,EAAG;AACL,WAAKH,QAAL,CAAc;AACVC,QAAAA,SAAS,EAAE,KADD;AAEVZ,QAAAA,EAAE,EAAE,IAFM;AAGVC,QAAAA,SAAS,EAAE,EAHD;AAIVC,QAAAA,QAAQ,EAAE,EAJA;AAKVC,QAAAA,UAAU,EAAE,EALF;AAMVU,QAAAA,gBAAgB,EAAE,KANR;AAOVI,QAAAA,eAAe,EAAE,KAPP;AAQVC,QAAAA,iBAAiB,EAAE;AART,OAAd;AAUH;;;iCAEYI,I,EAAMR,C,EAAG;AAClB,UAAMa,KAAK,GAAGb,CAAC,CAACc,MAAF,CAASD,KAAvB;AACA,WAAKhB,QAAL,qBACKW,IADL,EACYK,KADZ;AAGH;;;;EA1IiBxC,S;;AA8ItB,eAAeQ,OAAf","sourcesContent":["import React, { Component } from 'react';\r\nimport './User.css';\r\nimport { Button, Form, FormGroup, Label, Input, Col, Alert } from 'reactstrap';\r\n\r\nclass AddUser extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        let currentUser = props.currentUser || {}\r\n        const labels = {\r\n            'addUser': 'Add User',\r\n            'editUser': 'Update User'\r\n        };\r\n        this.state = {\r\n            id: currentUser.id || null,\r\n            firstName: currentUser.firstName || '',\r\n            lastName: currentUser.lastName || '',\r\n            employeeID: currentUser.employeeID || '',\r\n            addUserResponse: props.addUserResponse || {},\r\n            userAction: props.userAction || 'addUser',\r\n            labels: labels\r\n        }\r\n    }\r\n\r\n    componentWillReceiveProps(nextProps) {\r\n        console.log(\"Next set of props\")\r\n        console.log(nextProps)\r\n        if (nextProps.addUserResponse && nextProps.addUserResponse.status === \"success\") {\r\n            // Show success message?\r\n            this.reset();\r\n        }\r\n\r\n        if (nextProps.addUserResponse && nextProps.addUserResponse.status === \"failure\") {\r\n            // Show failure message\r\n        }\r\n        let currentUser = nextProps.currentUser || {}\r\n        this.setState({\r\n            id: currentUser.id || null,\r\n            firstName: currentUser.firstName || '',\r\n            lastName: currentUser.lastName || '',\r\n            employeeID: currentUser.employeeID || '',\r\n            userAction: nextProps.userAction || 'addUser',\r\n        });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"form-section\">\r\n                <Form>\r\n                    {this.state.formError &&\r\n                        <FormGroup row>\r\n                            <Col sm={12}><Alert color=\"danger\">All Fields are required!</Alert></Col>\r\n                        </FormGroup>\r\n                    }\r\n                    <FormGroup row>\r\n                        <Label for=\"firstName\" sm={2}>First Name:</Label>\r\n                        <Col sm={10}>\r\n                            <Input type=\"text\" value={this.state.firstName} invalid={this.state.firstNameInvalid} onChange={e => this.handleChange(\"firstName\", e)} onFocus={e => this.focus(\"firstName\", e)}/>\r\n                        </Col>\r\n                    </FormGroup>\r\n                    <FormGroup row>\r\n                        <Label for=\"lastName\" sm={2}>Last Name:</Label>\r\n                        <Col sm={10}>\r\n                            <Input type=\"text\" value={this.state.lastName} invalid={this.state.lastNameInvalid} onChange={e => this.handleChange(\"lastName\", e)} onFocus={e => this.focus(\"lastName\", e)}/>\r\n                        </Col>\r\n                    </FormGroup>\r\n                    <FormGroup row>\r\n                        <Label for=\"employeeID\" sm={2}>Employee ID:</Label>\r\n                        <Col sm={6}>\r\n                            <Input type=\"text\" value={this.state.employeeID} invalid={this.state.employeeIDInvalid}  onChange={e => this.handleChange(\"employeeID\", e)} onFocus={e => this.focus(\"employeeID\", e)} />\r\n                        </Col>\r\n                    </FormGroup>\r\n\r\n                    <FormGroup check row>\r\n                        <Col sm={{ size: 10, offset: 6 }}>\r\n                            <Button onClick={e => this.addOrEditUser(e, this.state.userAction)}>{this.state.labels[this.state.userAction]}</Button>\r\n                            <Button className=\"secondary\" onClick={e => this.reset(e)}>Reset</Button>\r\n                        </Col>\r\n                    </FormGroup>\r\n                </Form>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    focus(name, e){\r\n        console.log(name);\r\n        const prop = name+\"Invalid\"\r\n        this.setState({\r\n            [prop]: false\r\n        })\r\n    }\r\n\r\n    addOrEditUser(e, action) {\r\n        // validate user\r\n        if (this.validateForm()) {\r\n            return;\r\n        }\r\n        const user = {\r\n            id: this.state.id,\r\n            firstName: this.state.firstName,\r\n            lastName: this.state.lastName,\r\n            employeeID: this.state.employeeID\r\n        };\r\n        console.log(user);\r\n        this.props.addOrEditUser(action, user);\r\n    }\r\n\r\n    validateForm() {\r\n        const firstName = this.state.firstName;\r\n        const lastName = this.state.lastName;\r\n        const employeeID = this.state.employeeID;\r\n        let formError = false;\r\n        if (!firstName || !lastName || !employeeID) {\r\n            formError = true;\r\n        }\r\n        this.setState({\r\n            formError: formError,\r\n            firstNameInvalid: firstName ? false : true,\r\n            lastNameInvalid: lastName ? false : true,\r\n            employeeIDInvalid: employeeID ? false : true\r\n        })\r\n        return formError;\r\n    }\r\n\r\n    reset(e) {\r\n        this.setState({\r\n            formError: false,\r\n            id: null,\r\n            firstName: '',\r\n            lastName: '',\r\n            employeeID: '',\r\n            firstNameInvalid: false,\r\n            lastNameInvalid: false,\r\n            employeeIDInvalid: false\r\n        })\r\n    }\r\n\r\n    handleChange(name, e) {\r\n        const value = e.target.value\r\n        this.setState({\r\n            [name]: value\r\n        });\r\n    }\r\n\r\n}\r\n\r\nexport default AddUser;\r\n"]},"metadata":{},"sourceType":"module"}